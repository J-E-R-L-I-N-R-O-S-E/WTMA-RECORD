<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submitted Data</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>

<div class="container mt-5">
    <h2 class="text-center">Submitted Data</h2>
    <table class="table table-bordered text-center">
        <thead id="tableHead"></thead>
        <tbody id="tableBody"></tbody>
    </table>

    <div class="text-center">
        <a href="index.html" class="btn btn-primary mt-3">Add Another Entry</a>
    </div>
</div>

<script>
    let users = JSON.parse(localStorage.getItem("users")) || [];

    if (users.length > 0) {
        let tableHead = document.getElementById("tableHead");
        let tableBody = document.getElementById("tableBody");

        // Create the header row with field names
        let headerRow = "<tr>";
        Object.keys(users[0]).forEach(key => {
            headerRow += `<th>${key}</th>`;
        });
        headerRow += "</tr>";
        tableHead.innerHTML = headerRow;

        // Populate table with users' data
        users.forEach(user => {
            let row = "<tr>";
            Object.values(user).forEach(value => {
                row += `<td>${value}</td>`;
            });
            row += "</tr>";
            tableBody.innerHTML += row;
        });
    }
</script>

</body>
</html>
